<h1 align="center">Spark Join</h1>


## Description

Здесь вы познакомитесь со стратегиями джойнов в спарк и со стратегиями шафла в спарк.


## Theory about shuffle 

На самом деле стратегии shuffle в Spark достаточно редко затрагиваются, ибо дефолтные конфиги настроены так, чтобы у вас не было проблем. Зачастую вам никогда
не придётся даже думать о них. Тем не менее, для того чтобы понимать концепцию join, необходимо иметь представления и о shuffle. Да и на самом деле
есть один гость tungsten shuffle, который может стать такой неплохой палочкой выручалочкой при очень больших объёмах данных. Так что приступим.

Лучшая статья для понимания shuffle: https://0x0fff.com/spark-architecture-shuffle/.

Есть нюанс в статье на который возможно не все обратят внимание: при spark.sql.shuffle.partitions<200 дефолтным будет стратегия hash shuffle. Если 
spark.sql.shuffle.partitions>200, то sort based shuffle. Tungsten shuffle вообще не входит в дефолтные настройки, тем не менее в определенных ситуациях
он реально может стать ключом к решению.


## Join strategies

Сразу статья: https://habr.com/ru/company/otus/blog/556722/?ysclid=l8szwf1nmo960824093.
В этой статье вы уже увидите различные конфиги Spark, на основе которых Spark принимает то или иное решение. На самом деле на PySpark сможет писать любой,
настоящая сложность заключается как раз когда данных реально много и необходимо уделять внимание конфигам, настройкам и самим данным(перекошенные или нет).

